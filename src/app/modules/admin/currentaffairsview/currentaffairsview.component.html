<div class="current-affairs-container">
  <div class="header">
    <h1>Current Affairs Management</h1>
    <button class="btn btn-primary add-btn" (click)="onAdd()">
      <i class="icon-plus"></i>
      Add New Current Affairs
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Loading current affairs...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-container">
    <div class="error-message">
      <i class="icon-error"></i>
      {{ error }}
    </div>
    <button class="btn btn-secondary" (click)="loadCurrentAffairs()">
      Retry
    </button>
  </div>

  <!-- Data Table -->
  <div *ngIf="!loading && !error" class="table-container">
    <div *ngIf="currentAffairsList.length === 0" class="no-data">
      <div class="no-data-content">
        <i class="icon-empty"></i>
        <h3>No Current Affairs Found</h3>
        <p>Get started by adding your first current affairs quiz.</p>
        <button class="btn btn-primary" (click)="onAdd()">
          Add Current Affairs
        </button>
      </div>
    </div>

    <table *ngIf="currentAffairsList.length > 0" class="data-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Date</th>
          <th>Duration</th>
          <th>Questions</th>
          <th>Total Marks</th>
          <th>Difficulty</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of currentAffairsList; trackBy: trackByFn">
          <td>{{ item.id }}</td>
          <td class="title-cell">
            <div class="title-content">
              {{ item.title }}
            </div>
          </td>
          <td>{{ item.date | date:'dd/MM/yyyy' }}</td>
          <td>{{ item.duration }}</td>
          <td class="center">{{ item.questionsCount }}</td>
          <td class="center">{{ item.totalMarks }}</td>
          <td>
            <span class="difficulty-badge" [ngClass]="getDifficultyClass(item.difficulty)">
              {{ item.difficulty }}
            </span>
          </td>
          <td class="actions-cell">
            <div class="action-buttons">
              <button 
                class="btn btn-sm btn-outline-primary" 
                (click)="onEdit(item.id!)"
                title="Edit">
                <i class="icon-edit"></i>
                Edit
              </button>
              <button 
                class="btn btn-sm btn-outline-danger" 
                (click)="onDelete(item.id!, item.title)"
                title="Delete">
                <i class="icon-delete"></i>
                Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
