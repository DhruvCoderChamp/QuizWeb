<div class="view-test-container" *ngIf="!isLoading; else loadingTemplate">
  <mat-card class="test-header">
    <h2>{{ testData?.title }}</h2>
    <p>{{ testData?.description }}</p>
    <p><strong>Duration:</strong> {{ testData?.time }} mins</p>
  </mat-card>

  <div *ngIf="questions.length > 0; else noQuestions">
    <mat-accordion>
      <mat-expansion-panel *ngFor="let q of questions; let i = index">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Q{{ i + 1 }}. {{ q.questionText }}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="options">
          <p><strong>A:</strong> {{ q.optionA }}</p>
          <p><strong>B:</strong> {{ q.optionB }}</p>
          <p><strong>C:</strong> {{ q.optionC }}</p>
          <p><strong>D:</strong> {{ q.optionD }}</p>
        </div>
        <p><strong>Correct Option:</strong> {{ q.correctOption }}</p>
        <p *ngIf="q.explanation"><strong>Explanation:</strong> {{ q.explanation }}</p>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>

<ng-template #loadingTemplate>
  <p class="loading">Loading test details...</p>
</ng-template>

<ng-template #noQuestions>
  <p>No questions available for this test.</p>
</ng-template>
